# Workout Dashboard v2

Personal hypertrophy coaching intelligence dashboard — shared with my coach.

**Live:** https://workout-hgi.vercel.app

## What it shows

**Coach View** (default, one screen on mobile):
- Current weight + trend, lean mass, FFMI, estimated BF%
- Cut progress to target
- This week's Push / Pull / Upper / Lower sets with zone indicators
- Push/Pull balance score
- Nutrition adherence vs MF targets
- Active flags: volume spikes, progressive overload stalls, imbalances

**Athlete View** (full detail):
- Body composition charts (trend weight, lean mass, FFMI)
- 22-muscle group volume heatmap (8 weeks)
- Per-exercise progressive overload tracker with PRs and stall detection
- TDEE vs calorie intake and energy deficit
- RIR trends and volume spike history
- Cardio session tracker (VO2 bike, padel)
- Nutrition calendar heatmap

## Data sources

| Source | Data | Format |
|--------|------|--------|
| **MacroFactor** (primary) | Nutrition, workouts, muscle group volume, TDEE, weight | Monthly XLSX export |
| **Health Connect** (secondary) | VO2/padel cardio sessions, scale weight fallback | Daily `.db` export |

## How to update

### Regular update (after exporting MacroFactor)

1. Export from MacroFactor app: **Profile → Export Data → Export**
2. Drop the `MacroFactor-MONTH.xlsx` file into `drive_export/workout/`
3. Run:

```bash
./update.sh
```

Dashboard updates automatically in ~15 seconds.

### With a new Health Connect export

```bash
./update.sh /path/to/health_connect_export.db
```

### What the script does

```
uv run python parse.py   ← reads all MacroFactor-*.xlsx + health_connect_export.db
git add public/data.json
git commit -m "data: YYYY-MM-DD"
git push                 ← Vercel auto-deploys
```

## Local setup

Requires [uv](https://docs.astral.sh/uv/getting-started/installation/).

```bash
git clone https://github.com/limiteinductive/workout
cd workout

# Place exports (gitignored)
mkdir -p drive_export/workout
# copy MacroFactor-*.xlsx files into drive_export/workout/
# copy health_connect_export.db to project root (optional)

# Run parser
uv run python parse.py

# Serve locally
cd public && python3 -m http.server 8080
```

## Parser environment variables

| Variable | Default | Description |
|----------|---------|-------------|
| `HC_DB_PATH` | `./health_connect_export.db` | Path to Health Connect SQLite DB |

## Files

```
parse.py              ← data pipeline (MF XLSX + HC → data.json)
workout-config.json   ← athlete profile, MEV/MRV volume landmarks
public/
  index.html          ← dashboard
  style.css
  app.js
  data.json           ← generated by parse.py (committed)
drive_export/         ← raw exports (gitignored)
update.sh             ← one-command update script
```
